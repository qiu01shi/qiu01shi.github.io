---
layout: post
title: 热点文章定时计算与实时计算
date: 2024-06-21 10:11 +0800
categories: [Blogging, TJU-news]
author: <author_id>  
---

## 实现思路

把热点数据存入`redis`进行展示

判断文章是否是热点，有几项标准： **点赞数量**，**评论数量**，**阅读数量**，**收藏数量**；

计算文章热度，有两种方案：

- 定时计算文章热度

- 实时计算文章热度



## 定时计算

<img src="../media/2024-06-21-%E7%83%AD%E7%82%B9%E6%96%87%E7%AB%A0%E5%AE%9A%E6%97%B6%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97/image-20240620212554741.png" alt="image-20240620212554741" style="zoom:45%;" />



- 根据文章的行为（点赞、评论、阅读、收藏）计算文章的分值，利用定时任务每天完成一次计算

- 把分值较大的文章数据存入到`redis`中

- App端用户查询文章列表的时候，优先从`redis`中查询热度较高的文章数据



## 实时计算

<img src="../media/2024-06-21-%E7%83%AD%E7%82%B9%E6%96%87%E7%AB%A0%E5%AE%9A%E6%97%B6%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97/image-20240620213018266.png" alt="image-20240620213018266" style="zoom:45%;" />







