---
layout: post
title: 文章发布与审核
date: 2024-06-25 16:42 +0800
categories: [TJU-news, 文章发布与审核]
author: <author_id>
---

## 1. 文章数据流

如下图所示，文章发布主要分为以下几个步骤：

1. 在 `Media` 微服务发布文章，存入数据库中；异步调用文章审核方法；
2. 文章审核成功后，调用 Article 微服务保存文章，APP 端可以查看文章；

<img src="../media/2024-06-25-%E6%96%87%E7%AB%A0%E5%8F%91%E5%B8%83%E4%B8%8E%E5%AE%A1%E6%A0%B8/image-20240625164534731.png" alt="image-20240625164534731" style="zoom:40%;" />



## 2. 自媒体文章自动审核流程

<img src="../media/2024-06-25-%E6%96%87%E7%AB%A0%E5%8F%91%E5%B8%83%E4%B8%8E%E5%AE%A1%E6%A0%B8/image-20240625165538335.png" alt="image-20240625165538335" style="zoom:50%;" />

>1. 自媒体端发布文章后，借助第三方接口审核文章的内容（文本内容和图片）；
>2. 图片存储在 MinIO 中，需先下载再审核；
>
>3. 审核失败，则需要修改自媒体文章的状态，`status:` 2  审核失败    `status:` 3  转到人工审核
>4. 审核成功，则需要在文章微服务中创建app端需要的文章



















